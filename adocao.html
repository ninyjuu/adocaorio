<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quero Adotar - Adoção Rio</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="script.js"></script>
</head>
<body>

    <nav>
        <a href="index.html" class="logo-container">
            <img src="https://scontent-gig4-1.xx.fbcdn.net/v/t1.15752-9/622023872_1604611677336690_5729541255914831690_n.jpg?stp=dst-jpg_s960x960_tt6&_nc_cat=106&ccb=1-7&_nc_sid=9f807c&_nc_ohc=f-nFPiI96CEQ7kNvwHt24F5&_nc_oc=Adn1RZyIP23YnN4VXoHLyYvAVnkW2AWTX4nPrvSCRnYsrdIKIKpvG4faAfawg5JYkxU&_nc_zt=23&_nc_ht=scontent-gig4-1.xx&oh=03_Q7cD4gHt-WGbGD6-dqGYPUNJ4jZy-rcYUc1-M-QLxOYHYd7BYg&oe=69A45F5D" alt="Logo" class="logo-img">
            <span class="logo-text">Adoção Rio</span>
        </a>
        <div class="menu-links">
            <a href="index.html">Início</a>
            <a href="historia.html">História</a>
        </div>
    </nav>

    <div class="container">
        <div class="page-title-container">
            <h2 class="page-title">Animais para adoção</h2>
        </div>

        <div class="filter-wrapper">
            <div class="filter-container">
                <div class="filter-group"><label>Espécie:</label><select id="f-tipo" class="filter-select" onchange="renderizar()"><option value="todos">Todos</option><option value="cao">Cachorro</option><option value="gato">Gato</option></select></div>
                <div class="filter-group"><label>Sexo:</label><select id="f-sexo" class="filter-select" onchange="renderizar()"><option value="todos">Todos</option><option value="femea">Fêmea</option><option value="macho">Macho</option></select></div>
                
                <div class="filter-group"><label>Idade:</label><select id="f-fase" class="filter-select" onchange="renderizar()"><option value="todos">Todas</option><option value="filhote">Filhote</option><option value="adulto">Adulto</option><option value="idoso">Idoso</option></select></div>
                
                <div class="filter-group"><label>Porte:</label><select id="f-porte" class="filter-select" onchange="renderizar()"><option value="todos">Todos</option><option value="Pequeno">Pequeno</option><option value="Médio">Médio</option><option value="Grande">Grande</option></select></div>
            </div>
        </div>

        <div class="animal-grid" id="grid-animais"></div>

        <div class="pagination">
            <a href="#" class="page-btn active">1</a>
            <a href="#" class="page-btn">2</a>
            <a href="#" class="page-btn">3</a>
            <a href="#" class="page-btn"><i class="fas fa-chevron-right"></i></a>
        </div>
    </div>

    <footer>
        <div class="wave-top"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none"><path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="shape-fill"></path></svg></div>
        <div class="footer-container">
            <div class="footer-section">
                <h3>Entre em contato</h3>
                <div class="contact-item"><i class="fab fa-instagram"></i> adocaorio</div>
                <div class="contact-item"><i class="fas fa-envelope"></i> adocaorio@gmail.com</div>
            </div>
            <div class="footer-section">
                <h3>Como ajudar</h3>
                <p>Doe para arcarmos com os cuidados dos abrigados!</p>
                <div class="pix-box">Pix: adocaorio@gmail.com</div>
            </div>
        </div>
    </footer>

    <script>
        const listaAnimais = carregarAnimais();

        function renderizar() {
            const grid = document.getElementById('grid-animais');
            grid.innerHTML = "";

            const fTipo = document.getElementById('f-tipo').value;
            const fSexo = document.getElementById('f-sexo').value;
            const fPorte = document.getElementById('f-porte').value;
            const fFase = document.getElementById('f-fase').value; // Filtro de idade

            listaAnimais.forEach(animal => {
                if(fTipo !== 'todos' && animal.tipo !== fTipo) return;
                if(fSexo !== 'todos' && animal.sexo !== fSexo) return;
                if(fPorte !== 'todos' && animal.porte !== fPorte) return;
                if(fFase !== 'todos' && animal.fase !== fFase) return; // Checa fase

                const iconClass = animal.sexo === 'femea' ? 'venus' : 'mars';
                const iconColor = animal.sexo === 'femea' ? '#ff4081' : '#2979ff';
                const idadeTexto = calcularIdade(animal.nasc);

                const cardHTML = `
                    <div class="animal-card">
                        <div class="card-header">
                            <span class="name-tag">${animal.nome}</span>
                            <i class="fas fa-${iconClass}" style="color: ${iconColor}; font-size: 1.5rem;"></i>
                        </div>
                        <img src="${animal.fotos[0]}" class="animal-img-whole">
                        <div class="animal-info">
                            <p><strong>Idade:</strong> ${idadeTexto}</p>
                            <p><strong>Porte:</strong> ${animal.porte}</p>
                        </div>
                        <a href="detalhes.html?id=${animal.id}" class="btn-details">Ver Detalhes</a>
                    </div>
                `;
                grid.innerHTML += cardHTML;
            });

            if(grid.innerHTML === "") {
                grid.innerHTML = "<p style='text-align:center; width:100%'>Nenhum animal encontrado com esses filtros.</p>";
            }
        }
        renderizar();
    </script>

</body>
</html>